{"ast":null,"code":"import * as L from 'leaflet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/websocket.service\";\nexport class MapComponent {\n  constructor(websocket) {\n    this.websocket = websocket;\n    this.number = '';\n  }\n  ngAfterViewInit() {\n    this.websocket.getNumber().subscribe(num => {\n      this.number = num;\n    });\n    this.initMap();\n  }\n  initMap() {\n    this.map = L.map('map').setView([51.505, -0.09], 13);\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '© OpenStreetMap contributors',\n      maxZoom: 18\n    }).addTo(this.map);\n    const pos1 = L.marker([51.5, -0.09]).addTo(this.map).bindPopup('Pos 1');\n    const pos2 = L.marker([51.5, -0.1]).addTo(this.map).bindPopup('Pos 2');\n  }\n  ngOnDestroy() {\n    this.map.remove();\n  }\n  static #_ = this.ɵfac = function MapComponent_Factory(t) {\n    return new (t || MapComponent)(i0.ɵɵdirectiveInject(i1.WebsocketService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MapComponent,\n    selectors: [[\"app-map\"]],\n    decls: 5,\n    vars: 1,\n    consts: [[1, \"map-container\"], [1, \"map-frame\"], [\"id\", \"map\"]],\n    template: function MapComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\");\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1);\n        i0.ɵɵelement(4, \"div\", 2);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Number from flask: \", ctx.number, \"\");\n      }\n    },\n    styles: [\".map-container[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    transform: translate(-50%, -50%);\\n    width: 80vw;\\n    height: 80vh;\\n    border-radius: 12px;\\n    overflow: hidden;\\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\\n  }\\n  \\n  .map-frame[_ngcontent-%COMP%] {\\n    height: 100%;\\n  }\\n  \\n  #map[_ngcontent-%COMP%] {\\n    height: 100%;\\n    width: 100%;\\n  }\\n  \\n  .map-info[_ngcontent-%COMP%] {\\n    margin-top: 10px;\\n    font-size: 18px;\\n    font-weight: bold;\\n    text-align: center;\\n    color: #333;\\n  }\\n  \\n  \\n\\n  .leaflet-popup-content-wrapper[_ngcontent-%COMP%] {\\n    background: #fff;\\n    border-radius: 12px;\\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\\n  }\\n  \\n  .leaflet-popup-content[_ngcontent-%COMP%] {\\n    padding: 15px;\\n    text-align: center;\\n    color: #333;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFwL21hcC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0lBQ2xCLFFBQVE7SUFDUixTQUFTO0lBQ1QsZ0NBQWdDO0lBQ2hDLFdBQVc7SUFDWCxZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQix1Q0FBdUM7RUFDekM7O0VBRUE7SUFDRSxZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxZQUFZO0lBQ1osV0FBVztFQUNiOztFQUVBO0lBQ0UsZ0JBQWdCO0lBQ2hCLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLFdBQVc7RUFDYjs7RUFFQSwwQ0FBMEM7RUFDMUM7SUFDRSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLHVDQUF1QztFQUN6Qzs7RUFFQTtJQUNFLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsV0FBVztFQUNiIiwic291cmNlc0NvbnRlbnQiOlsiLm1hcC1jb250YWluZXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgd2lkdGg6IDgwdnc7XG4gICAgaGVpZ2h0OiA4MHZoO1xuICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBib3gtc2hhZG93OiAwIDAgMjBweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIH1cbiAgXG4gIC5tYXAtZnJhbWUge1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuICBcbiAgI21hcCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG4gIFxuICAubWFwLWluZm8ge1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBjb2xvcjogIzMzMztcbiAgfVxuICBcbiAgLyogT3B0aW9uYWw6IFN0eWxlIGZvciB0aGUgbWFya2VyIHBvcHVwcyAqL1xuICAubGVhZmxldC1wb3B1cC1jb250ZW50LXdyYXBwZXIge1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIH1cbiAgXG4gIC5sZWFmbGV0LXBvcHVwLWNvbnRlbnQge1xuICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGNvbG9yOiAjMzMzO1xuICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["L","MapComponent","constructor","websocket","number","ngAfterViewInit","getNumber","subscribe","num","initMap","map","setView","tileLayer","attribution","maxZoom","addTo","pos1","marker","bindPopup","pos2","ngOnDestroy","remove","_","i0","ɵɵdirectiveInject","i1","WebsocketService","_2","selectors","decls","vars","consts","template","MapComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate1"],"sources":["/home/cytech/Documents/Informatique/micro_services/projet/KafkaTrackingGPS/trackingGPSfront/src/app/map/map.component.ts","/home/cytech/Documents/Informatique/micro_services/projet/KafkaTrackingGPS/trackingGPSfront/src/app/map/map.component.html"],"sourcesContent":["import { Component, AfterViewInit } from '@angular/core';\nimport * as L from 'leaflet';\nimport { WebsocketService } from '../service/websocket.service';\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.css']\n})\nexport class MapComponent {\n  private map:any;\n  public number: string ='';\n  constructor(private websocket:WebsocketService){}\n\n  ngAfterViewInit():void{\n    this.websocket.getNumber().subscribe((num: string)=>{\n      this.number = num;\n    })\n    this.initMap();\n  }\n\n  initMap(): void {\n    this.map = L.map('map').setView([51.505, -0.09], 13);\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '© OpenStreetMap contributors',\n      maxZoom: 18\n    }).addTo(this.map);\n\n    const pos1 = L.marker([51.5, -0.09]).addTo(this.map).bindPopup('Pos 1');\n\n\n    const pos2 = L.marker([51.5, -0.1]).addTo(this.map).bindPopup('Pos 2');\n  }\n\n  ngOnDestroy(){\n    this.map.remove();\n  }\n}\n","<div class=\"map-container\">\n    <div>Number from flask: {{number}}</div>\n    <div class=\"map-frame\">\n      <div id=\"map\"></div>\n    </div>\n</div>\n"],"mappings":"AACA,OAAO,KAAKA,CAAC,MAAM,SAAS;;;AAQ5B,OAAM,MAAOC,YAAY;EAGvBC,YAAoBC,SAA0B;IAA1B,KAAAA,SAAS,GAATA,SAAS;IADtB,KAAAC,MAAM,GAAU,EAAE;EACuB;EAEhDC,eAAeA,CAAA;IACb,IAAI,CAACF,SAAS,CAACG,SAAS,EAAE,CAACC,SAAS,CAAEC,GAAW,IAAG;MAClD,IAAI,CAACJ,MAAM,GAAGI,GAAG;IACnB,CAAC,CAAC;IACF,IAAI,CAACC,OAAO,EAAE;EAChB;EAEAA,OAAOA,CAAA;IACL,IAAI,CAACC,GAAG,GAAGV,CAAC,CAACU,GAAG,CAAC,KAAK,CAAC,CAACC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;IACpDX,CAAC,CAACY,SAAS,CAAC,oDAAoD,EAAE;MAChEC,WAAW,EAAE,8BAA8B;MAC3CC,OAAO,EAAE;KACV,CAAC,CAACC,KAAK,CAAC,IAAI,CAACL,GAAG,CAAC;IAElB,MAAMM,IAAI,GAAGhB,CAAC,CAACiB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,CAACF,KAAK,CAAC,IAAI,CAACL,GAAG,CAAC,CAACQ,SAAS,CAAC,OAAO,CAAC;IAGvE,MAAMC,IAAI,GAAGnB,CAAC,CAACiB,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,CAACF,KAAK,CAAC,IAAI,CAACL,GAAG,CAAC,CAACQ,SAAS,CAAC,OAAO,CAAC;EACxE;EAEAE,WAAWA,CAAA;IACT,IAAI,CAACV,GAAG,CAACW,MAAM,EAAE;EACnB;EAAC,QAAAC,CAAA,G;qBA3BUrB,YAAY,EAAAsB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,gBAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAZ1B,YAAY;IAAA2B,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCTzBX,EAAA,CAAAa,cAAA,aAA2B;QAClBb,EAAA,CAAAc,MAAA,GAA6B;QAAAd,EAAA,CAAAe,YAAA,EAAM;QACxCf,EAAA,CAAAa,cAAA,aAAuB;QACrBb,EAAA,CAAAgB,SAAA,aAAoB;QACtBhB,EAAA,CAAAe,YAAA,EAAM;;;QAHDf,EAAA,CAAAiB,SAAA,GAA6B;QAA7BjB,EAAA,CAAAkB,kBAAA,wBAAAN,GAAA,CAAA/B,MAAA,KAA6B"},"metadata":{},"sourceType":"module","externalDependencies":[]}